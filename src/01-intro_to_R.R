## ----setup-----------------------------------------------------------------------------------------
#| echo: false
#| message: false
#| warning: false
library(tidyverse)
library(knitr)


## ----r-data-struc-1--------------------------------------------------------------------------------
#creating a vector of numbers:
numeric_vec <- c(2,4,6,8,10)
numeric_vec

# creating a vector of strings/characters:
string_vec <-c("weight", "height", "gender")
string_vec

# creating a Boolean vector (T/F):
logical_vec <- c(TRUE, TRUE, FALSE)
logical_vec

# creating factors:
factors_vec <- factor(c("male", "male", "female"))
factors_vec


## ----r-data-struc-2--------------------------------------------------------------------------------
r1 <- rep(2,3)
r1

r2 <- rep(c(1,2),3)
r2

r3 <- rep(c(6,3),c(2,4))
r3

r4 <- rep(string_vec, 2)
r4


## ----r-data-struc-3--------------------------------------------------------------------------------
seq(from=2, to=10, by=2)

seq(from=2, to=10, length = 5)

seq(2, 5, 0.8)

seq(2, 5, 0.8) * 2


## ----r-data-struc-4--------------------------------------------------------------------------------
s1 <- 2:5
s1


## ----r-data-struc-5--------------------------------------------------------------------------------
v <- c(1:6)
m1 <- matrix(v, nrow=2, ncol=3)
m1

m2 <- matrix(v, nrow=2, ncol=3, byrow=TRUE)
m2


## ----r-data-struc-6--------------------------------------------------------------------------------
a <- c(1,2,3,4)
b <- c(5,6,7,8)
ab_row <- rbind(a,b)
ab_row

ab_col <- cbind(m1, c(7,8))
ab_col


## --------------------------------------------------------------------------------------------------
#| echo: false
control <- c(6.1, 5.9)
pre_heated <- c(6.3, 6.2)
pre_chilled <- c(7.1, 8.2)
untidy1 <- data.frame(Control = control, 
                      Pre_heated = pre_heated,
                      Pre_chilled = pre_chilled)
kable(untidy1)


## --------------------------------------------------------------------------------------------------
#| echo: false
treatment <- rep(c('control', 'pre_heated', 'pre_chilled'), each=2)
response <- c(control, pre_heated, pre_chilled)
tidy1 <- data.frame(Response = response, Treatment= treatment)
kable(tidy1)


## ----r-data-struc-7--------------------------------------------------------------------------------
df1 <- as.data.frame(m1)
df1


## ----r-data-struc-8--------------------------------------------------------------------------------
a <- c(11,12)
b <- c(13,14)
df2 <- data.frame(col1 = a, col2 = b)
df2


## --------------------------------------------------------------------------------------------------
ls1 <- list(A=seq(1, 5, by=2), B=seq(1, 5, length=4))
ls1

ls1[[2]]

ls1[["B"]]

ls1$A


## --------------------------------------------------------------------------------------------------
setosa <- iris$Sepal.Length[iris$Species == "setosa"]
virginica <- iris$Sepal.Length[iris$Species == "virginica"]

t_test_out <- t.test(setosa, virginica)
str(t_test_out) 


## --------------------------------------------------------------------------------------------------
t_test_out$p.value


## ----r-data-struc-9--------------------------------------------------------------------------------
data1 <- read.table("data/crab.txt")
head(data1)


## ----r-data-struc-10-------------------------------------------------------------------------------
data1 <- read.table("data/crab.txt", header=TRUE)
head(data1)


## ----r-data-struc-11-------------------------------------------------------------------------------
varnames <- c("Subject", "Gender", "CA1", "CA2", "HW")
data2 <- read.table("data/ex_1.txt", header = FALSE,  
                    col.names = varnames)
data2


## ----r-data-struc-12-------------------------------------------------------------------------------
data3 <- read.csv("data/ex_1_comma.txt",  header = FALSE)
data3


## ----r-access-1------------------------------------------------------------------------------------
data3[, 2:4]


## ----r-access-2------------------------------------------------------------------------------------
data3[1:3, ]


## ----r-access-3------------------------------------------------------------------------------------
data2[data2$Gender == "M", ]


## ----r-access-4------------------------------------------------------------------------------------
data2[data2$Gender == "M" & data2$CA2 > 85, ]


## ----r-access-5------------------------------------------------------------------------------------
data2$id <- 1:NROW(data2)


## ----r-access-6------------------------------------------------------------------------------------
data2[order(data2$CA1), ]

# arranges in reverse order:
data2[order(data2$CA1, decreasing = TRUE), ] 


## --------------------------------------------------------------------------------------------------
#| eval: false
# while( <logical condition> ) {
#   R expressions
#   ...
# }
# 


## ----loops-1---------------------------------------------------------------------------------------
x <- 0 
S <- 0
while(x<=10) {
  S <- S + x  
  x <- x + 1
}
S


## --------------------------------------------------------------------------------------------------
#| eval: false
# for(<index> in <set> ) {
#   R expressions
#   ...
# }


## ----loops-2---------------------------------------------------------------------------------------
S <- 0
for(x in 1:10){
  S <- S + x
}
S


## ----loops-3---------------------------------------------------------------------------------------
x <- 0            
test <- TRUE 

while(test) {
  x <- x+1 
  test <- x<6
  cat(x^2, test, "\n") 
}


## ----cat-1-----------------------------------------------------------------------------------------
cat("The current number is", x^2, "\n") 


## ----sink-1----------------------------------------------------------------------------------------
sink("data/datasink_ex1.txt")      # turn the sink on
x <- 0            
test <- TRUE 

while(test) {
  x <- x+1 
  test <- isTRUE(x<6)  
  cat(x^2, test, "\n")             # This will be written to the file.
}

sink()                             # turn the sink off 


## ----write-csv-1-----------------------------------------------------------------------------------
write.csv(data2, "data/ex_1_with_IQ.csv")


## ----user-fn-1-------------------------------------------------------------------------------------
#| eval: false
# fn_name <- function(arguments) {
#   R expressions
#   ...
#   Returned object
# 
# }


## ----user-fn-2-------------------------------------------------------------------------------------
circumference <- function(r) {
  2*pi*r
}
circumference(1.3)


## ----misc-1----------------------------------------------------------------------------------------
#| eval: false
# ?mean


## ----misc-2----------------------------------------------------------------------------------------
#| eval: false
# ??mean


## ----install-1-------------------------------------------------------------------------------------
#| eval: false
# install.packages("stringr")


## ----install-2-------------------------------------------------------------------------------------
#| eval: false
# library(stringr)


## ----install-3-------------------------------------------------------------------------------------
#| eval: false
# help(package="stringr")


## --------------------------------------------------------------------------------------------------
#| echo: false
rep(rep(1:3, c(3,2,1)), 2)


## --------------------------------------------------------------------------------------------------
#| echo: false
l1 <- list("1" = list("Will", "Mike", "Dustin", "Lucas"), c("Max"))
l1


## --------------------------------------------------------------------------------------------------
#| eval: false
# data2[data2$Gender == "M" && data2$CA2 > 85, ]

